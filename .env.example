# Server
NODE_ENV=development
PORT=3001

# Database
DB_HOST=localhost
DB_PORT=5432
DB_USER=rtpi
DB_PASSWORD=rtpi
DB_NAME=rtpi_main
DATABASE_URL=postgresql://rtpi:rtpi@localhost:5432/rtpi_main

# Redis
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=change-this-to-a-secure-password-in-production

# Session
SESSION_SECRET=change-this-to-a-random-secret-in-production

# Encryption
# 64-character hex key for AES-256-GCM encryption (required for Empire password storage)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# Authentication
# Default Admin Account (for first-time setup)
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_EMAIL=admin@rtpi.local
DEFAULT_ADMIN_PASSWORD=Admin123!@
# Set to true to generate a random secure password instead of using DEFAULT_ADMIN_PASSWORD
GENERATE_ADMIN_PASSWORD=false

# Registration Settings
ALLOW_REGISTRATION=false

# Google OAuth (Production Only - uncomment and configure for production deployment)
# For local development, use username/password authentication only
# GOOGLE_CLIENT_ID=your-production-google-client-id
# GOOGLE_CLIENT_SECRET=your-production-google-client-secret
# GOOGLE_CALLBACK_URL=https://yourdomain.com/api/v1/auth/google/callback

# JWT
JWT_SECRET=change-this-to-a-random-secret-in-production
JWT_EXPIRES_IN=24h

# CORS
CORS_ORIGIN=http://localhost:5000,http://localhost:5001,localhost:5000,localhost:5001

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# AI Services (can also be configured via Settings UI at /settings)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
TAVILY_API_KEY=

# Tool Framework
# GitHub token for accessing private repositories during auto-install
GITHUB_TOKEN=
# Path where tool registry data is stored
TOOL_REGISTRY_PATH=/opt/tools/registry
# Path where GitHub cloned tools are stored
GITHUB_CLONE_PATH=/opt/tools/github
# Default timeout for tool execution (milliseconds)
TOOL_EXECUTION_TIMEOUT=300000
# Maximum concurrent tool executions
MAX_CONCURRENT_TOOL_EXECUTIONS=5
# Enable tool auto-validation after installation
AUTO_VALIDATE_TOOLS=true

# PowerShell Empire C2
# Empire admin password (CHANGE THIS!)
EMPIRE_PASSWORD=ChangeMeNow123!
# Empire REST API URL (default: http://localhost:1337)
EMPIRE_API_URL=http://localhost:1337
# Empire SocketIO URL for real-time events (optional)
EMPIRE_SOCKETIO_URL=http://localhost:5002

# ATT&CK Workbench
# Workbench MongoDB password (CHANGE THIS!)
WORKBENCH_DB_PASSWORD=workbench123
# Workbench session secret (CHANGE THIS!)
WORKBENCH_SESSION_SECRET=change-this-workbench-secret-key
# Workbench REST API URL (default: http://localhost:3010)
WORKBENCH_API_URL=http://localhost:3010
# Workbench Frontend URL (optional - only if running workbench-ui profile)
WORKBENCH_FRONTEND_URL=http://localhost:3020

# Agent Bundle Download Tokens
# Automatically generate download tokens for new agent bundles
AGENT_TOKEN_AUTO_GENERATE=true
# Default token expiration time in hours
AGENT_TOKEN_DEFAULT_EXPIRATION_HOURS=24
# Default maximum number of downloads per token
AGENT_TOKEN_DEFAULT_MAX_DOWNLOADS=1
# Public URL for agent download links (used in token generation)
PUBLIC_URL=http://localhost:3000

# Cloudflare R2 Wordlist Storage (OffSec Agents)
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=your-access-key-id
R2_SECRET_ACCESS_KEY=your-secret-access-key
R2_BUCKET_NAME=wordlist-storag

# v2.1 Autonomous Agent System
# Set to false to disable automatic agent initialization on server start
AGENT_AUTO_INITIALIZE=true
# Tool Connector Agent: polling interval in milliseconds (default: 5 minutes)
TOOL_CONNECTOR_POLL_INTERVAL=300000
# Tool Connector Agent: container name to poll for tools
TOOL_CONNECTOR_CONTAINER=rtpi-tools
# Surface Assessment Agent: maximum concurrent BBOT scans
SURFACE_ASSESSMENT_MAX_CONCURRENT=3
# Surface Assessment Agent: default BBOT preset
SURFACE_ASSESSMENT_BBOT_PRESET=kitchen-sink
# Web Hacker Agent: maximum concurrent nuclei scans
WEB_HACKER_MAX_CONCURRENT=5
# Web Hacker Agent: AI provider for template generation (anthropic or openai)
WEB_HACKER_AI_PROVIDER=anthropic
# Web Hacker Agent: AI model for template generation
WEB_HACKER_AI_MODEL=claude-sonnet-4-5
# Workflow orchestrator: default timeout per phase in milliseconds (2 hours)
WORKFLOW_DEFAULT_TIMEOUT=7200000
# Workflow retry: maximum number of retry attempts (default: 3)
WORKFLOW_RETRY_MAX_RETRIES=3
# Workflow retry: exponential backoff multiplier (default: 2)
WORKFLOW_RETRY_BACKOFF_MULTIPLIER=2
# Workflow retry: base delay between retries in milliseconds (default: 1000ms)
WORKFLOW_RETRY_BASE_DELAY_MS=1000

# Memory System (v2.3)
# Embedding provider for vector similarity search (openai, ollama, none)
MEMORY_EMBEDDING_PROVIDER=openai
# Embedding model (text-embedding-ada-002 for OpenAI, nomic-embed-text for Ollama)
MEMORY_EMBEDDING_MODEL=text-embedding-ada-002
# Embedding dimensions (1536 for ada-002, 768 for nomic-embed-text)
MEMORY_EMBEDDING_DIMENSIONS=1536
# Graph relationship features (true/false)
MEMORY_GRAPH_ENABLED=true
# Maximum graph traversal depth
MEMORY_GRAPH_MAX_DEPTH=3
# Default search result limit
MEMORY_SEARCH_DEFAULT_LIMIT=10
# Minimum similarity threshold for vector search (0.0-1.0)
MEMORY_SEARCH_MIN_SIMILARITY=0.7
# Fall back to text search when embeddings unavailable
MEMORY_SEARCH_TEXT_FALLBACK=true
# Default memory TTL in days (leave empty for permanent)
# MEMORY_DEFAULT_TTL_DAYS=
# Maximum memories per context before cleanup
MEMORY_MAX_PER_CONTEXT=1000
