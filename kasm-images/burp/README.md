# Burp Suite Workspace Image

This directory contains templates for building Burp Suite Professional workspace images.

## Dynamic Image Building

Burp Suite requires a licensed JAR file that users must upload. The system builds custom Docker images dynamically when users upload their Burp Suite Professional JAR.

### Workflow

1. **Upload JAR**: User uploads Burp Suite Professional JAR via API
2. **Build Image**: System builds custom Docker image with user's JAR
3. **Provision Workspace**: User can launch Burp Suite workspace using their custom image

### API Endpoints

#### Upload JAR
```bash
curl -X POST http://localhost:3001/api/v1/burp-builder/upload \
  -F "jarFile=@/path/to/burpsuite_pro.jar" \
  -F "userId=user123"
```

#### Build Image
```bash
curl -X POST http://localhost:3001/api/v1/burp-builder/build/user123
```

#### List Images
```bash
curl http://localhost:3001/api/v1/burp-builder/images/user123
```

#### Delete Image
```bash
curl -X DELETE http://localhost:3001/api/v1/burp-builder/images/rtpi/kasm-burp/user-123-1234567890
```

### Manual Building

If you have a Burp Suite JAR, you can build the image manually:

1. Place `burpsuite_pro.jar` in this directory
2. Create `Dockerfile` (template generated by burp-image-builder service)
3. Build:
   ```bash
   docker build -t rtpi/kasm-burp:latest .
   ```

### Image Contents

- Ubuntu Focal base
- OpenJDK 17
- Burp Suite Professional (user-provided JAR)
- Python 3 + common security libraries
- Desktop integration with auto-start

### Security Considerations

- JAR files are stored per-user in isolated directories
- Images are tagged with user ID for isolation
- Maximum JAR upload size: 500MB
- Uploaded JARs can be deleted after image building

### Troubleshooting

**Issue**: Image build fails
- **Solution**: Check if JAR file is valid Burp Suite Professional JAR
- **Solution**: Ensure Docker has enough disk space (images are ~2GB)

**Issue**: Burp Suite won't start in workspace
- **Solution**: Check Java version (requires JRE 17+)
- **Solution**: Verify JAR file permissions in container

**Issue**: Upload fails
- **Solution**: Check file size (max 500MB)
- **Solution**: Ensure file extension is `.jar`
